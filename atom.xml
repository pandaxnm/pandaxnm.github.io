<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°ç†ŠBlog</title>
  
  <subtitle>æŠ˜è…¾ä¸æ­¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://mokeee.com/"/>
  <updated>2019-07-14T09:33:13.421Z</updated>
  <id>https://mokeee.com/</id>
  
  <author>
    <name>chaojie.xiong</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Shellè„šæœ¬å­¦ä¹ ç¬”è®°</title>
    <link href="https://mokeee.com/2019/07/14/shell-script-leaning/"/>
    <id>https://mokeee.com/2019/07/14/shell-script-leaning/</id>
    <published>2019-07-14T07:23:20.000Z</published>
    <updated>2019-07-14T09:33:13.421Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote><p>æœ¬æ–‡æ‰€å†™å†…å®¹ä¸»è¦æ˜¯æ ¹æ®ç½‘ç»œæ•™ç¨‹å’Œè‡ªæˆ‘ç†è§£æ‰€å¾—ï¼Œå¦‚æœ‰é”™è¯¯ä¹‹å¤„ï¼Œè¯·æŒ‡å‡ºã€‚</p></blockquote><h1 id="è§£é‡Šå™¨"><a href="#è§£é‡Šå™¨" class="headerlink" title="è§£é‡Šå™¨"></a>è§£é‡Šå™¨</h1><p>ä¸€èˆ¬shellè„šæœ¬çš„ç¬¬ä¸€è¡Œéƒ½æ˜¯ä»¥ <code>!#/bin/sh</code> å¼€å¤´ï¼Œ<code>!#</code> æ ‡è¯†ç”¨ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œæ­¤è„šæœ¬ã€‚</p><p>è§£é‡Šå™¨çš„ç§ç±»å¾ˆå¤šï¼Œæ¯”è¾ƒå¸¸è§çš„å°±æ˜¯ï¼š</p><ul><li><code>/bin/sh</code></li><li><code>/bin/bash</code></li></ul><h1 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h1><p>åœ¨ä¸€è¡Œå¼€å¤´ä½¿ç”¨<code>#</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># author: ä½ çš„å°å¯çˆ±</span></span><br><span class="line"><span class="comment"># date: 2019-07-14</span></span><br></pre></td></tr></table></figure><p>shellä¸­æ²¡æœ‰å¤šè¡Œæ³¨é‡Š</p><h1 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h1><h2 id="å‘½åè§„åˆ™"><a href="#å‘½åè§„åˆ™" class="headerlink" title="å‘½åè§„åˆ™"></a>å‘½åè§„åˆ™</h2><ul><li>åªèƒ½ä½¿ç”¨å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´</li><li>ä¸èƒ½ä½¿ç”¨ç‰¹æ®Šç¬¦å·</li><li>ä¸èƒ½ä½¿ç”¨å…³é”®å­—</li></ul><p>å˜é‡åç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">id</span><br><span class="line">USERNAME</span><br><span class="line">favorite</span><br><span class="line">favorite2</span><br><span class="line">_sex</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å˜é‡"><a href="#ä½¿ç”¨å˜é‡" class="headerlink" title="ä½¿ç”¨å˜é‡"></a>ä½¿ç”¨å˜é‡</h2><h3 id="å®šä¹‰å˜é‡"><a href="#å®šä¹‰å˜é‡" class="headerlink" title="å®šä¹‰å˜é‡"></a>å®šä¹‰å˜é‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">"ä½ çš„å°å¯çˆ±"</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ol><li>å®šä¹‰å˜é‡æ—¶ï¼Œå˜é‡åä¸éœ€è¦ä½¿ç”¨<code>$</code>ç¬¦å·</li><li>ç­‰å·å‰åä¸èƒ½æœ‰ç©ºæ ¼</li></ol><h3 id="ä½¿ç”¨å˜é‡-1"><a href="#ä½¿ç”¨å˜é‡-1" class="headerlink" title="ä½¿ç”¨å˜é‡"></a>ä½¿ç”¨å˜é‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"æˆ‘çš„åå­—æ˜¯ï¼š<span class="variable">$&#123;name&#125;</span>"</span></span><br><span class="line"></span><br><span class="line">name=<span class="string">"å¤§å®¶çš„å°å¯çˆ±"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ol><li>å®šä¹‰å˜é‡æ—¶å˜é‡åå‰ä¸éœ€è¦åŠ <code>$</code>ï¼Œä½†ä½¿ç”¨æ—¶éœ€è¦åŠ <code>$</code>ã€‚</li><li>é‡æ–°å®šä¹‰å˜é‡æ—¶ï¼Œå˜é‡åå‰ä¸éœ€è¦åŠ <code>$</code>,åªåœ¨ä½¿ç”¨å˜é‡æ—¶æ‰åŠ ã€‚</li></ol><h1 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h1><h2 id="å•åŒå¼•å·"><a href="#å•åŒå¼•å·" class="headerlink" title="å•åŒå¼•å·"></a>å•åŒå¼•å·</h2><p>åœ¨shellä¸­å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨å•å¼•å·ã€åŒå¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">'Hello World.'</span></span><br><span class="line">str2=<span class="string">"ä½ å¥½ä¸–ç•Œ"</span></span><br><span class="line">str3=æ³¥è±ªå•Š</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ol><li>å•å¼•å·ä¸­çš„å†…å®¹ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·ä¸­çš„å˜é‡æ— æ•ˆ</li><li>å•å¼•å·å­—ä¸²ä¸­ä¸èƒ½å‡ºç°å•ç‹¬ä¸€ä¸ªçš„å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰</li><li>åŒå¼•å·ä¸­å¯ä»¥ä½¿ç”¨å˜é‡å’Œè½¬ä¹‰å­—ç¬¦</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">age=18;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'my age is $&#123;age&#125;'</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"my age is <span class="variable">$&#123;age&#125;</span> \nHow old are you?"</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">my age is $&#123;age&#125;</span><br><span class="line">my age is 18</span><br><span class="line">How old are you?</span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²æ“ä½œ"><a href="#å­—ç¬¦ä¸²æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²æ“ä½œ"></a>å­—ç¬¦ä¸²æ“ä½œ</h2><h3 id="å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼æ¥"></a>å­—ç¬¦ä¸²æ‹¼æ¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">"ä½ çš„å°å¯çˆ±"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ä½ å¥½ï¼Œæˆ‘æ˜¯<span class="variable">$&#123;name&#125;</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ä½ å¥½ï¼Œæˆ‘æ˜¯"</span><span class="variable">$name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ä½ å¥½ï¼Œæˆ‘æ˜¯"</span><span class="variable">$name</span><span class="string">"ï¼Œå“ˆå“ˆ"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'ä½ å¥½ï¼Œæˆ‘æ˜¯'</span><span class="variable">$name</span><span class="string">'ï¼Œå“ˆå“ˆ'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line"><span class="comment"># ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„å°å¯çˆ±</span></span><br><span class="line"><span class="comment"># ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„å°å¯çˆ±</span></span><br><span class="line"><span class="comment"># ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„å°å¯çˆ±ï¼Œå“ˆå“ˆ</span></span><br><span class="line"><span class="comment"># ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„å°å¯çˆ±ï¼Œå“ˆå“ˆ</span></span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²é•¿åº¦"><a href="#å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="å­—ç¬¦ä¸²é•¿åº¦"></a>å­—ç¬¦ä¸²é•¿åº¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#str&#125;</span>;</span><br><span class="line"><span class="comment">#è¾“å‡ºï¼š5</span></span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²æˆªå–"><a href="#å­—ç¬¦ä¸²æˆªå–" class="headerlink" title="å­—ç¬¦ä¸²æˆªå–"></a>å­—ç¬¦ä¸²æˆªå–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">"abcdefg"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;str:1:3&#125;</span> </span><br><span class="line"><span class="comment"># è¾“å‡º bcd</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;str:0:4&#125;</span></span><br><span class="line"><span class="comment"># è¾“å‡º abcd</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;

&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡æ‰€å†™å†…å®¹ä¸»è¦æ˜¯æ ¹æ®ç½‘ç»œæ•™ç¨‹å’Œè‡ªæˆ‘ç†è§£æ‰€å¾—ï¼Œå¦‚æœ‰é”™è¯¯ä¹‹å¤„ï¼Œè¯·æŒ‡å‡ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;è§£é‡Šå™¨&quot;&gt;&lt;a href=&quot;#è§£é‡Šå™¨&quot; class=&quot;headerlink&quot; title
      
    
    </summary>
    
      <category term="Shell" scheme="https://mokeee.com/categories/Shell/"/>
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Redisé”æ¥å¤„ç†å¹¶å‘</title>
    <link href="https://mokeee.com/2019/07/10/redis-lock/"/>
    <id>https://mokeee.com/2019/07/10/redis-lock/</id>
    <published>2019-07-10T15:05:49.000Z</published>
    <updated>2019-07-14T09:55:32.297Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p><strong>é—®é¢˜ï¼š</strong></p><p>æœ€è¿‘åœ¨å’Œç¬¬ä¸‰æ–¹å¯¹æ¥æ”¯ä»˜ï¼Œä»Šå¤©çœ‹æ—¥å¿—å‘ç°ä»–ä»¬çš„å›è°ƒç«Ÿç„¶å¹¶å‘äº†ï¼Œæœ‰ç‚¹æ–¹ã€‚<br>è™½ç„¶æ¯æ¬¡å›è°ƒçš„æ—¶å€™ï¼Œéƒ½ä¼šæŸ¥æ•°æ®åº“æ£€æŸ¥è¿™ä¸ªè®¢å•çš„çŠ¶æ€ï¼Œç„¶åå¯¹è¿›è¡Œç›¸åº”å¤„ç†ã€‚ä½†åŒä¸€ä¸ªè®¢å•å¦‚æœé‡åˆ°å¹¶å‘ï¼Œç¬¬ä¸€ä¸ªè¯·æ±‚è¿˜æ²¡å†™å…¥æ•°æ®åº“ï¼Œç¬¬äºŒä¸ªè¯·æ±‚å°±æ¥äº†ï¼Œè¿™ç§æƒ…å†µå°±ä¼šå¯¼è‡´é”™è¯¯ã€‚</p><p><img src="http://images.mokeee.com/blog/20190710230813.png" alt></p><p><strong>è§£å†³åŠæ³•ï¼š</strong></p><p>ä½¿ç”¨Redisé”ï¼Œæ¯ä¸ªè¯·æ±‚åˆ°è¾¾æ—¶å…ˆåŠ é”ï¼Œå¦‚æœåŠ é”æˆåŠŸæ‰ä¼šæ‰§è¡Œåé¢çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ‰§è¡Œç»“æŸåé‡Šæ”¾é”ã€‚</p><p>æ¯”å¦‚ï¼šåŒä¸€ä¸ªè®¢å•å¹¶å‘çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¢å•å·ä½œä¸ºRedisçš„é”®åï¼Œæ¯æ¬¡è¯·æ±‚å‰éƒ½ä¼šå…ˆåŠ é”ï¼Œå¦‚æœåŠ é”å¤±è´¥ï¼Œè¯´æ˜è¯¥è®¢å•æ­£åœ¨è¿›è¡Œå¤„ç†ï¼Œå¹¶æŠŠè¿™ä¸ªè¯·æ±‚æŒ¡å›å»ï¼›å¦‚æœåŠ é”æˆåŠŸï¼Œåˆ™æ‰§è¡Œåé¢çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶åœ¨å®Œæˆåè§£é”ã€‚</p><p>æˆ‘æƒ³åˆ°çš„æ˜¯ä½¿ç”¨Redisçš„setå‘½ä»¤ï¼Œ2.6.12ä¹‹åç‰ˆæœ¬ï¼ŒRedis setæŒ‡ä»¤æ”¯æŒäº†nxã€exæ¨¡å¼ï¼Œå¹¶æ”¯æŒåŸå­åŒ–åœ°è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚</p><blockquote><p>NX ï¼šåªåœ¨é”®ä¸å­˜åœ¨æ—¶ï¼Œæ‰å¯¹é”®è¿›è¡Œè®¾ç½®æ“ä½œã€‚ SET key value NX æ•ˆæœç­‰åŒäº SETNX key value ã€‚</p></blockquote><p><img src="http://images.mokeee.com/blog/20190710232324.png" alt></p><p><strong>PHPå®ç°</strong></p><ol><li>åŠ é”<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ é”</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $orderId è®¢å•ID</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool|int åŠ é”æˆåŠŸè¿”å›å”¯ä¸€é”IDï¼ŒåŠ é”å¤±è´¥è¿”å›false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">addLock</span><span class="params">($orderId)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!$orderId)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    $key = <span class="keyword">self</span>::REDIS_LOCK_NAME . $orderId;</span><br><span class="line">    $client = BaseRedis::getClient();</span><br><span class="line">    <span class="comment">//ç”Ÿæˆé”ID è‡ªè¡Œå®ç°</span></span><br><span class="line">    $lockId = uniqid();</span><br><span class="line">    <span class="comment">//éœ€è¦è®¾ç½®ä¸€ä¸ªåˆ°æœŸæ—¶é—´ï¼Œé¿å…æ­»é”</span></span><br><span class="line">    $res = $client-&gt;set($key, $lockId, [<span class="string">'nx'</span>, <span class="string">'ex'</span> =&gt; <span class="keyword">self</span>::REDIS_LOCK_EXPIRE_TIME]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $res ? $lockId : $res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>2.è§£é”</p><p>è§£é”æ—¶ç”¨lockIdè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™åˆ é™¤é”ã€‚</p><blockquote><p>watch: ç›‘è§†ä¸€ä¸ª(æˆ–å¤šä¸ª) key ï¼Œå¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œä¹‹å‰è¿™ä¸ª(æˆ–è¿™äº›) key è¢«å…¶ä»–å‘½ä»¤æ‰€æ”¹åŠ¨ï¼Œé‚£ä¹ˆäº‹åŠ¡å°†è¢«æ‰“æ–­ã€‚</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è§£é”</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $orderId è®¢å•ID</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $lockId é”å”¯ä¸€ID</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">unLock</span><span class="params">($orderId, $lockId)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!$orderId)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    $key = <span class="keyword">self</span>::REDIS_LOCK_NAME . $orderId;</span><br><span class="line">    $client = BaseRedis::getClient();</span><br><span class="line"></span><br><span class="line">    $client-&gt;watch($key);</span><br><span class="line">    <span class="keyword">if</span> ($lockId == $client-&gt;get($key)) &#123;</span><br><span class="line">        <span class="comment">// ä»¥ MULTI å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼Œç„¶åå°†å¤šä¸ªå‘½ä»¤å…¥é˜Ÿåˆ°äº‹åŠ¡ä¸­ï¼Œ æœ€åç”± EXEC å‘½ä»¤è§¦å‘äº‹åŠ¡ï¼Œä¸€å¹¶æ‰§è¡Œäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤</span></span><br><span class="line">        $client-&gt;multi()-&gt;del($key)-&gt;exec();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    $client-&gt;unwatch();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘åœ¨å’Œç¬¬ä¸‰æ–¹å¯¹æ¥æ”¯ä»˜ï¼Œä»Šå¤©çœ‹æ—¥å¿—å‘ç°ä»–ä»¬çš„å›è°ƒç«Ÿç„¶å¹¶å‘äº†ï¼Œæœ‰ç‚¹æ–¹ã€‚&lt;br&gt;è™½ç„¶æ¯æ¬¡å›è°ƒçš„æ—¶å€™ï¼Œéƒ½ä¼šæŸ¥æ•°æ®åº“æ£€æŸ¥è¿™ä¸ªè®¢å•çš„çŠ¶æ€ï¼Œç„¶åå¯¹è¿›è¡Œç›¸åº”å¤„ç†ã€‚ä½†åŒä¸€ä¸ªè®¢å•å¦‚æœé‡åˆ°å¹¶å‘ï¼Œç¬¬ä¸€ä¸ªè¯·
      
    
    </summary>
    
      <category term="Redis" scheme="https://mokeee.com/categories/Redis/"/>
    
    
      <category term="å¹¶å‘" scheme="https://mokeee.com/tags/%E5%B9%B6%E5%8F%91/"/>
    
      <category term="Redis" scheme="https://mokeee.com/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨OpenSSLè¿›è¡ŒRSAç­¾åå’ŒåŠ å¯†è§£å¯†</title>
    <link href="https://mokeee.com/2019/07/09/open-ssl-rsa-sign-encrypt/"/>
    <id>https://mokeee.com/2019/07/09/open-ssl-rsa-sign-encrypt/</id>
    <published>2019-07-09T03:56:32.000Z</published>
    <updated>2019-07-10T15:28:24.146Z</updated>
    
    <content type="html"><![CDATA[<p>PHP7ä¹‹åï¼Œmcryptæ‰©å±•å°±å·²ç»è¢«å¼ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨OpenSSLæ‹“å±•æ¥ä»£æ›¿ã€‚</p><a id="more"></a><p><img src="http://images.mokeee.com/blog/20190710151011.png" alt></p><p><strong>RSAåŠ å¯†ç®—æ³•æ˜¯ä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œç”¨æ³•æ€»ç»“èµ·æ¥å°±æ˜¯ï¼šå…¬é’¥åŠ å¯†ã€ç§é’¥è§£å¯†ã€ç§é’¥ç­¾åã€å…¬é’¥éªŒç­¾ã€‚</strong></p><p>ç­¾åä¸åŠ å¯†çš„ä½œç”¨ï¼š<br>1.ç­¾åæ˜¯ä¸ºäº†é˜²æ­¢æ•°æ®è¢«ç¯¡æ”¹<br>2.åŠ å¯†æ˜¯ä¸ºäº†é˜²æ­¢æ•°æ®è¢«æ³„éœ²</p><h3 id="æ ¼å¼åŒ–å…¬é’¥ç§é’¥"><a href="#æ ¼å¼åŒ–å…¬é’¥ç§é’¥" class="headerlink" title="æ ¼å¼åŒ–å…¬é’¥ç§é’¥"></a>æ ¼å¼åŒ–å…¬é’¥ç§é’¥</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¼å¼åŒ–ç§é’¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $privateKey</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">getPrivateKey</span><span class="params">($privateKey)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $key = chunk_split($privateKey,<span class="number">64</span>,<span class="string">"\n"</span>);</span><br><span class="line">        $key = <span class="string">"-----BEGIN PRIVATE KEY-----\n"</span> . $key . <span class="string">"-----END PRIVATE KEY-----\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> $key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¼å¼åŒ–å…¬é’¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $privateKey</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">getPublicKey</span><span class="params">($publicKey)</span></span>&#123;</span><br><span class="line">        $key = chunk_split($publicKey,<span class="number">64</span>,<span class="string">"\n"</span>);</span><br><span class="line">        $key = <span class="string">"-----BEGIN PUBLIC KEY-----\n"</span> . $key . <span class="string">"-----END PUBLIC KEY-----\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> $key;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨ç§é’¥ç­¾å"><a href="#ä½¿ç”¨ç§é’¥ç­¾å" class="headerlink" title="ä½¿ç”¨ç§é’¥ç­¾å"></a>ä½¿ç”¨ç§é’¥ç­¾å</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç­¾å</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $params</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $privateKey</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">sign</span><span class="params">($data, $privateKey)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $signature = <span class="string">''</span>;</span><br><span class="line">    openssl_sign($str, $signature, $privateKey, OPENSSL_ALGO_SHA1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> base64_encode($signature);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å…¬é’¥éªŒç­¾"><a href="#ä½¿ç”¨å…¬é’¥éªŒç­¾" class="headerlink" title="ä½¿ç”¨å…¬é’¥éªŒç­¾"></a>ä½¿ç”¨å…¬é’¥éªŒç­¾</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éªŒç­¾</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $return</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $sign</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $publicKey</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">verify</span><span class="params">($params, $sign, $publicKey)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $verify = openssl_verify($params, base64_decode($sign), $publicKey);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($verify != <span class="number">1</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å…¬é’¥åŠ å¯†"><a href="#ä½¿ç”¨å…¬é’¥åŠ å¯†" class="headerlink" title="ä½¿ç”¨å…¬é’¥åŠ å¯†"></a>ä½¿ç”¨å…¬é’¥åŠ å¯†</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * rsa å…¬é’¥åŠ å¯†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $data string å¾…åŠ å¯†çš„æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $public_key å…¬é’¥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">rsaPublicEncrypt</span><span class="params">($data, $publicKey)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $key = openssl_pkey_get_public($publicKey);</span><br><span class="line">    $encrypted = <span class="string">''</span>;</span><br><span class="line">    openssl_public_encrypt($data, $encrypted, $key);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> base64_encode($encrypted);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨ç§é’¥è§£å¯†"><a href="#ä½¿ç”¨ç§é’¥è§£å¯†" class="headerlink" title="ä½¿ç”¨ç§é’¥è§£å¯†"></a>ä½¿ç”¨ç§é’¥è§£å¯†</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç§é’¥è§£å¯†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $encrypted è¢«åŠ å¯†çš„æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $private_key ç§é’¥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">rsaPrivateDecrypt</span><span class="params">($encrypted, $private_key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    openssl_private_decrypt(base64_decode($encrypted),$decrypted,$private_key);</span><br><span class="line">    <span class="keyword">return</span> $decrypted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PHP7ä¹‹åï¼Œmcryptæ‰©å±•å°±å·²ç»è¢«å¼ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨OpenSSLæ‹“å±•æ¥ä»£æ›¿ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="PHP" scheme="https://mokeee.com/categories/PHP/"/>
    
    
      <category term="openSSL" scheme="https://mokeee.com/tags/openSSL/"/>
    
      <category term="RSA" scheme="https://mokeee.com/tags/RSA/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸Šä½¿ç”¨Homebrewæ­å»ºLNMPç¯å¢ƒï¼ˆç®€è¦ç‰ˆï¼‰</title>
    <link href="https://mokeee.com/2019/06/09/mac-homebrew-lnmp/"/>
    <id>https://mokeee.com/2019/06/09/mac-homebrew-lnmp/</id>
    <published>2019-06-09T09:18:39.000Z</published>
    <updated>2019-06-09T14:19:23.084Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å‘ç°è‡ªå·±è¿™å°Macå……ç”µå£å·²ç»ç³Šæ‰äº†ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ—¶å€™å‘çƒ­ä¸¥é‡ï¼Œäºæ˜¯å‘å…¬å¸ç”³è¯·äº†ä¸€å°ã€‚</p><a id="more"></a><p><img src="http://images.mokeee.com/blog/IMG_2250.JPG" alt></p><p><img src="http://images.mokeee.com/blog/UNADJUSTEDNONRAW_thumb_14b9.jpg" alt></p><p>ç»“æœç»™äº†æˆ‘ä¸€å°13å¯¸çš„ï¼Œè€Œä¸”é”®ç›˜ç£¨å¾—æ¼†éƒ½æ‰äº†ã€‚ğŸ¤£</p><p>æ‹¿åˆ°æ‰‹ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯å’”å’”é‡è£…ç³»ç»Ÿï¼Œç„¶åå¼€å§‹è£…å¼€å‘ç¯å¢ƒã€‚</p><h2 id="ä¸€ã€å®‰è£…Homebrew"><a href="#ä¸€ã€å®‰è£…Homebrew" class="headerlink" title="ä¸€ã€å®‰è£…Homebrew"></a>ä¸€ã€å®‰è£…Homebrew</h2><h3 id="1-å®‰è£…comman-line"><a href="#1-å®‰è£…comman-line" class="headerlink" title="1.å®‰è£…comman line"></a>1.å®‰è£…comman line</h3><blockquote><p><a href="https://brew.sh/" target="_blank" rel="noopener">Homebrew</a> æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œç”¨äºåœ¨Macä¸Šå®‰è£…ä¸€äº›OS Xæ²¡æœ‰çš„UNIXå·¥å…·</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤ºå¤±è´¥ï¼Œè¯·å°è¯•æ‰‹åŠ¨å®‰è£…<br>åˆ°è¿™ä¸ªåœ°å€ <a href="https://developer.apple.com/download/more/" target="_blank" rel="noopener">https://developer.apple.com/download/more/</a> ä¸‹è½½Command Line Toolsï¼Œé€‰æ‹©é€‚åˆè‡ªå·±çš„ç‰ˆæœ¬ã€‚</p><p><img src="http://images.mokeee.com/blog/xcode_command_line.jpg" alt></p><h3 id="2-å®‰è£…Homebrew"><a href="#2-å®‰è£…Homebrew" class="headerlink" title="2.å®‰è£…Homebrew"></a>2.å®‰è£…Homebrew</h3><p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯å®‰è£…Homebrewï¼Œå®‰è£…å¼€å§‹å‰ä¼šæœ‰æç¤ºï¼ŒåŒæ„å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€å®‰è£…Nginx"><a href="#äºŒã€å®‰è£…Nginx" class="headerlink" title="äºŒã€å®‰è£…Nginx"></a>äºŒã€å®‰è£…Nginx</h2><p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåå°†NginxåŠ å…¥å¼€æœºè‡ªå¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/<span class="built_in">local</span>/opt/nginx/homebrew.mxcl.nginx.plist ~/Library/LaunchAgents/</span><br><span class="line">launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.nginx.plist</span><br></pre></td></tr></table></figure><p>ç»™Nginx rootæƒé™ (è·¯å¾„æ ¹æ®ç‰ˆæœ¬è€Œå®š)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown root:wheel /usr/<span class="built_in">local</span>/Cellar/nginx/1.6.0_1/bin/nginx</span><br><span class="line">sudo chmod u+s /usr/<span class="built_in">local</span>/Cellar/nginx/1.6.0_1/bin/nginx</span><br></pre></td></tr></table></figure><p>å¦‚æœnginxå¯åŠ¨æŠ¥é”™ï¼š<code>nginx: [error] open() &quot;/usr/local/var/run/nginx.pid&quot; failed (2: No such file or directory)</code></p><p>æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -c /usr/<span class="built_in">local</span>/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®‰è£…MySql"><a href="#ä¸‰ã€å®‰è£…MySql" class="headerlink" title="ä¸‰ã€å®‰è£…MySql"></a>ä¸‰ã€å®‰è£…MySql</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install mysql@5.7</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåå¼€å¯mysqlï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/opt/mysql@5.7/bin/mysql.server start</span><br></pre></td></tr></table></figure><p>ç„¶åè®¾ç½®å¯†ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/opt/mysql@5.7/bin/mysql_secure_installation</span><br></pre></td></tr></table></figure><p>æ ¹æ®æç¤ºæ“ä½œå³å¯</p><p>å°†MySqlåŠ å…¥å¼€æœºè‡ªå¯ï¼ˆè·¯å¾„æ ¹æ®ç‰ˆæœ¬è€Œå®šï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/<span class="built_in">local</span>/opt/mysql@5.7/homebrew.mxcl.mysql@5.7.plist  ~/Library/LaunchAgents/</span><br><span class="line">launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.mysql@5.7.plist</span><br></pre></td></tr></table></figure><h2 id="å››ã€å®‰è£…PHP"><a href="#å››ã€å®‰è£…PHP" class="headerlink" title="å››ã€å®‰è£…PHP"></a>å››ã€å®‰è£…PHP</h2><h3 id="1-å®‰è£…PHP"><a href="#1-å®‰è£…PHP" class="headerlink" title="1.å®‰è£…PHP"></a>1.å®‰è£…PHP</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install php@7.1</span><br></pre></td></tr></table></figure><p>å°†phpåŠ å…¥ç¯å¢ƒå˜é‡ï¼Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH="/usr/local/opt/php@7.1/bin:$PATH"'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH="/usr/local/opt/php@7.1/sbin:$PATH"'</span> &gt;&gt; ~/.bash_profile</span><br></pre></td></tr></table></figure><p>å…³é—­ç»ˆç«¯ï¼Œé‡æ–°æ‰“å¼€</p><h3 id="2-å®‰è£…PHPæ‰©å±•"><a href="#2-å®‰è£…PHPæ‰©å±•" class="headerlink" title="2.å®‰è£…PHPæ‰©å±•"></a>2.å®‰è£…PHPæ‰©å±•</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>pecl</code>å‘½ä»¤æ¥å®‰è£…PHPæ‹“å±•ï¼Œå¦‚æœä½ å®‰è£…çš„PHPç‰ˆæœ¬&gt;=7.1ï¼Œpeclä¹Ÿä¸€åŒå®‰è£…å¥½äº†ã€‚</p><blockquote><p>ä½¿ç”¨peclå®‰è£…æ‹“å±•ï¼Œåªéœ€æ‰§è¡Œå‘½ä»¤å³å¯ï¼Œå…¶ä»–çš„ä¼šç»™ä½ è‡ªåŠ¨é…ç½®å¥½ï¼Œæ˜¯ä¸æ˜¯æ•²æ–¹ä¾¿çš„ï¼</p></blockquote><p>å®‰è£…Yafæ‰©å±•ï¼š<code>pecl install yaf</code><br>å®‰è£…redisæ‰©å±•ï¼š <code>pecl install install</code><br>å®‰è£…debugï¼š<code>pecl install xdebug</code>  </p><p>æ‰©å±•å®‰è£…å®Œæˆåè®°å¾—é‡å¯php-fpm</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services restart php@7.1</span><br></pre></td></tr></table></figure><h2 id="äº”ã€å®‰è£…redis"><a href="#äº”ã€å®‰è£…redis" class="headerlink" title="äº”ã€å®‰è£…redis"></a>äº”ã€å®‰è£…redis</h2><p>åŒç†ï¼Œè¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install redis</span><br></pre></td></tr></table></figure><h2 id="å…­ã€å‘½ä»¤"><a href="#å…­ã€å‘½ä»¤" class="headerlink" title="å…­ã€å‘½ä»¤"></a>å…­ã€å‘½ä»¤</h2><p>å¯èƒ½ä¼šç”¨åˆ°çš„ä¸€äº›å‘½ä»¤ï¼š </p><h3 id="1-æœç´¢"><a href="#1-æœç´¢" class="headerlink" title="1. æœç´¢"></a>1. æœç´¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew search php</span><br></pre></td></tr></table></figure><p><img src="http://images.mokeee.com/blog/brew_search.jpg" alt></p><h3 id="2-å®‰è£…å¸è½½"><a href="#2-å®‰è£…å¸è½½" class="headerlink" title="2.å®‰è£…å¸è½½"></a>2.å®‰è£…å¸è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install\uninstall php@7.1</span><br></pre></td></tr></table></figure><h3 id="3-å¯åŠ¨-é‡å¯-åœæ­¢æœåŠ¡ï¼š"><a href="#3-å¯åŠ¨-é‡å¯-åœæ­¢æœåŠ¡ï¼š" class="headerlink" title="3.å¯åŠ¨\é‡å¯\åœæ­¢æœåŠ¡ï¼š"></a>3.å¯åŠ¨\é‡å¯\åœæ­¢æœåŠ¡ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services start\restart\stop nginx\mysql@5.7\php@7.1</span><br></pre></td></tr></table></figure><h3 id="4-æŸ¥çœ‹æŸä¸ªåŒ…çš„ä¿¡æ¯ï¼š"><a href="#4-æŸ¥çœ‹æŸä¸ªåŒ…çš„ä¿¡æ¯ï¼š" class="headerlink" title="4.æŸ¥çœ‹æŸä¸ªåŒ…çš„ä¿¡æ¯ï¼š"></a>4.æŸ¥çœ‹æŸä¸ªåŒ…çš„ä¿¡æ¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew info nginx</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºå®‰è£…è·¯å¾„ã€é…ç½®æ–‡ä»¶ç­‰ä¿¡æ¯</p><p><img src="http://images.mokeee.com/blog/brew_info.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘å‘ç°è‡ªå·±è¿™å°Macå……ç”µå£å·²ç»ç³Šæ‰äº†ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ—¶å€™å‘çƒ­ä¸¥é‡ï¼Œäºæ˜¯å‘å…¬å¸ç”³è¯·äº†ä¸€å°ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Homebrew" scheme="https://mokeee.com/tags/Homebrew/"/>
    
      <category term="LNMP" scheme="https://mokeee.com/tags/LNMP/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡ä½¿ç”¨PHPå°†wordè½¬ä¸ºexcelçš„ç»å†</title>
    <link href="https://mokeee.com/2019/01/12/word-to-excel-use-php/"/>
    <id>https://mokeee.com/2019/01/12/word-to-excel-use-php/</id>
    <published>2019-01-12T08:24:06.000Z</published>
    <updated>2019-06-09T09:18:02.850Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¨å¤©ä¸€ä½æœ‹å‹æ‰¾åˆ°æˆ‘ï¼Œè¯´ä»–æ‰‹ä¸Šæœ‰å‡ åƒä¸ªwordè¡¨æ ¼éœ€è¦è½¬æ¢åˆ°ä¸€ä¸ªexcelæ–‡ä»¶é‡Œï¼Œä»–åœ¨ç½‘ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³éœ€æ±‚çš„è½¯ä»¶ï¼Œäºæ˜¯è®©æˆ‘å¸®å¿™ç”¨ç¨‹åºå®ç°ã€‚</p><a id="more"></a><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>éœ€æ±‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæ¯ä¸ªæ–‡æ¡£æ–‡æ¡£ä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ ¼å¼å›ºå®šçš„è¡¨æ ¼ï¼Œéœ€è¦æŠŠæ¯ä¸€ä¸ªwordè¡¨æ ¼è½¬æ¢ä¸ºexcelæ–‡ä»¶é‡Œçš„ä¸€è¡Œã€‚</p><p>from:</p><p><img src="http://images.mokeee.com/2019-01-12-IMG_6264-20190112-024237-.jpg?imageView2/3/w/1000/h/1000/interlace/1/q/100" alt="IMG_6264-20190112-024237-"></p><p>to:</p><p><img src="http://images.mokeee.com/2019-01-12-IMG_6265-20190112-024237-.jpg?imageView2/3/w/1000/h/1000/interlace/1/q/100" alt="IMG_6265-20190112-024237-"></p><h3 id="å¯»æ‰¾è§£å†³æ–¹æ¡ˆ"><a href="#å¯»æ‰¾è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¯»æ‰¾è§£å†³æ–¹æ¡ˆ"></a>å¯»æ‰¾è§£å†³æ–¹æ¡ˆ</h3><p>æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯ç”¨PHPè¯»å–wordæ–‡æ¡£ï¼Œå¤„ç†ä¹‹åè½¬æˆexcelã€‚</p><p>è½¬æˆexcelæ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨PHPç³»ç»Ÿå‡½æ•°<code>fputcsv</code>å°±å¯ä»¥æå®šï¼Œç°åœ¨éœ€è¦åšçš„æ˜¯è¯»å–åˆ°wordæ–‡æ¡£é‡Œçš„å†…å®¹ã€‚</p><p>ç´§æ¥ç€æˆ‘ä¾¿å»ç½‘ä¸ŠæŸ¥æ‰¾ï¼Œçœ‹æœ‰æ²¡æœ‰PHPçš„æ‰©å±•èƒ½å¤Ÿè¯»å–wordæ–‡æ¡£ã€‚<br>åœ¨Githubæœç´¢åˆ°ä¸€ä¸ªå«åš <a href="https://github.com/PHPOffice/PHPWord" target="_blank" rel="noopener">PHPWord</a> çš„æ‰©å±•ï¼Œä¸è¿‡é—æ†¾çš„æ˜¯ï¼Œè¿™ä¸ªæ‰©å±•åªèƒ½å¾€wordæ–‡æ¡£é‡Œå†™å…¥å†…å®¹ï¼Œå¹¶ä¸èƒ½è¯»å–ã€‚</p><p>æˆ‘åˆæƒ³ï¼Œèƒ½ä¸èƒ½æŠŠwordè½¬æˆå…¶ä»–æ ¼å¼å†è¯»å–ã€‚<br>äºæ˜¯æˆ‘å°†wordæ–‡æ¡£çš„åç¼€æ”¹æˆäº†<code>txt</code>,æ‰“å¼€æ–‡ä»¶åå†…å®¹å¦‚ä¸‹å›¾ã€‚</p><p>å¯†å¯†éº»éº»çš„ä¸€å¤§å †ï¼Œåæ­£æˆ‘æ˜¯æ²¡èƒ½ä»ä¸­æ‰¾åˆ°ä»€ä¹ˆè§„å¾‹ï¼Œäºæ˜¯æ”¾å¼ƒäº†è¿™ç§æ–¹æ³•ã€‚</p><p><img src="http://images.mokeee.com/2019-01-12-15472784366824.jpg?imageView2/3/w/1000/h/1000/interlace/1/q/100" alt="-w973"></p><p>æ¥ç€æˆ‘åœ¨wordçš„å¦å­˜ä¸ºåŠŸèƒ½ä¸­ï¼Œå‘ç°å¯ä»¥å¦å­˜ä¸ºå…¶ä»–æ ¼å¼ã€‚</p><p><img src="http://images.mokeee.com/2019-01-12-15472786250739.jpg?imageView2/3/w/1000/h/1000/interlace/1/q/100" alt="-w322"></p><p>äºæ˜¯é€‰æ‹©ä¿å­˜ä¸º<code>htm</code>æ–‡ä»¶ï¼Œéšååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è½¬æ¢å¥½çš„æ–‡ä»¶ï¼Œå‘ç°è¡¨æ ¼è½¬æ¢æˆäº†htmlä¸­çš„tableè¡¨æ ¼ï¼Œéå¸¸æ ‡å‡†ã€‚</p><p><img src="http://images.mokeee.com/2019-01-12-15472790353553.jpg?imageView2/3/w/1000/h/1000/interlace/1/q/100" alt="-w540"></p><p>è¿™æ ·æˆ‘åªéœ€è¦éå†è¯»å–htmæ–‡ä»¶ï¼Œè·å–å…¶ä¸­çš„å†…å®¹ï¼Œå†è¿›è¡Œç›¸åº”å¤„ç†ä¾¿èƒ½å¾—åˆ°æœ€ç»ˆæ•°æ®ã€‚</p><h3 id="è¿›è¡Œå¤„ç†"><a href="#è¿›è¡Œå¤„ç†" class="headerlink" title="è¿›è¡Œå¤„ç†"></a>è¿›è¡Œå¤„ç†</h3><h5 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h5><p> é¦–å…ˆæˆ‘åœ¨ç½‘ä¸Šä¸‹è½½äº†è½¯ä»¶ï¼Œå°†wordæ–‡æ¡£æ‰¹é‡è½¬æ¢ä¸ºhtmæ–‡ä»¶ï¼Œå¹¶æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹</p><h5 id="è¯»å–æ–‡ä»¶å†…å®¹"><a href="#è¯»å–æ–‡ä»¶å†…å®¹" class="headerlink" title="è¯»å–æ–‡ä»¶å†…å®¹"></a>è¯»å–æ–‡ä»¶å†…å®¹</h5><p>æˆ‘ä»¬äº‹å…ˆå°†æ‰€æœ‰è½¬æ¢å¥½çš„æ–‡ä»¶æ”¾åœ¨äº†åŒä¸€ç›®å½•ä¸‹ï¼Œæ‰€ä»¥åªéœ€è¦éå†è¯¥ç›®å½•ï¼Œå¹¶ä½¿ç”¨<code>file_get_contents()</code>å‡½æ•°å°±èƒ½è·å–åˆ°æ¯ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</p><h5 id="æå–æœ‰ç”¨å†…å®¹"><a href="#æå–æœ‰ç”¨å†…å®¹" class="headerlink" title="æå–æœ‰ç”¨å†…å®¹"></a>æå–æœ‰ç”¨å†…å®¹</h5><p>æŸ¥çœ‹htmæºä»£ç èƒ½å‘ç°ï¼Œæ¯ä¸ªwordè¡¨æ ¼è½¬æ¢åå˜æˆäº†ä¸€ä¸ªhtmlè¡¨æ ¼ï¼Œåªéœ€è¦å…ˆå–åˆ°<code>&lt;table&gt;&lt;/table&gt;</code>æ ‡ç­¾é‡Œçš„å†…å®¹ï¼Œç„¶åå†æŒ‰è¡Œåˆ†å‰²ï¼ŒæŒ‰åˆ—åˆ†å‰²ï¼Œä¾¿èƒ½å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®äº†ã€‚</p><p>é™„ä¸Šç®€ç•¥ä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”Ÿæˆcsvæ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">writeExcel</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å†™å…¥æ–‡æ¡£å¤´éƒ¨</span></span><br><span class="line">    $fileName = <span class="string">'./data.csv'</span>;</span><br><span class="line">    file_put_contents($fileName,<span class="string">''</span>);</span><br><span class="line">    $handle = fopen($fileName, <span class="string">'w'</span>);</span><br><span class="line">    fwrite($handle, chr(<span class="number">0xEF</span>).chr(<span class="number">0xBB</span>).chr(<span class="number">0xBF</span>)); <span class="comment">// å†™å…¥BOMå¤´ï¼Œé˜²æ­¢ä¹±ç </span></span><br><span class="line">    $titleArr = [<span class="string">'A'</span>  =&gt; <span class="string">'æ ·å“ç±»å‹'</span>, <span class="string">'B'</span>  =&gt; <span class="string">'å›¾å¹…ç¼–å·'</span>];<span class="comment">//æ¬¡æ•°çœç•¥</span></span><br><span class="line">    fputcsv($handle, $titleArr);</span><br><span class="line">    <span class="keyword">return</span> $handle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯»å–æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scanFile</span><span class="params">($path)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $result = [];</span><br><span class="line">    $files = scandir($path);</span><br><span class="line">    <span class="keyword">foreach</span> ($files <span class="keyword">as</span> $file) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($file != <span class="string">'.'</span> &amp;&amp; $file != <span class="string">'..'</span>) &#123;</span><br><span class="line">            $result[] = basename($file);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æå–è¡¨æ ¼å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getContents</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $filesArr = scanFile(<span class="string">'./'</span>);</span><br><span class="line">    $handle = writeExcelHeader();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">foreach</span> ($filesName <span class="keyword">as</span> $k =&gt; $v)&#123;</span><br><span class="line">        <span class="comment">//è¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">        $text = file_get_contents($path . $v);</span><br><span class="line">        <span class="comment">//è½¬æ¢ç¼–ç </span></span><br><span class="line">        $text = iconv(<span class="string">"gb2312"</span>, <span class="string">"utf-8//IGNORE"</span>,$text);</span><br><span class="line">        <span class="comment">//å»é™¤htmlæ ‡ç­¾å¤šä½™å±æ€§</span></span><br><span class="line">        $text = preg_replace(<span class="string">"/&lt;([a-zA-Z]+)[^&gt;]*&gt;/"</span>,<span class="string">"&lt;\\1&gt;"</span>,$text);</span><br><span class="line">        <span class="comment">//æå–è¡¨æ ¼å†…å®¹</span></span><br><span class="line">        preg_match_all(<span class="string">"/&lt;table&gt;(.*?)&lt;\/table&gt;/is"</span>,$text,$matches);</span><br><span class="line">        <span class="comment">//å¤„ç†è¡¨æ ¼å†…å®¹</span></span><br><span class="line">        <span class="keyword">foreach</span> ($matches[<span class="number">1</span>] <span class="keyword">as</span> $match)&#123;</span><br><span class="line">            html2excel($match, $handle);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤„ç†è¡¨æ ¼å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convert</span><span class="params">($content)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $res = [];</span><br><span class="line">    <span class="comment">//æŒ‰è¡Œæ‹†åˆ†</span></span><br><span class="line">    $trArr = explode(<span class="string">'&lt;tr&gt;'</span>, $content);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">foreach</span> ($trArr <span class="keyword">as</span> $k =&gt; $tr)&#123;</span><br><span class="line">        <span class="comment">//å»é™¤å¤šä½™æ ‡ç­¾</span></span><br><span class="line">        $tr = str_replace(<span class="string">'&lt;/tr&gt;'</span>,<span class="string">''</span>, $tr);</span><br><span class="line">        <span class="comment">//æŒ‰åˆ—æ‹†åˆ†</span></span><br><span class="line">        $tdArr = explode(<span class="string">'&lt;td&gt;'</span>, $tr);</span><br><span class="line">        <span class="keyword">foreach</span> ($tdArr <span class="keyword">as</span> $kk =&gt; $td)&#123;</span><br><span class="line">            <span class="comment">//å»é™¤å¤šä½™æ ‡ç­¾</span></span><br><span class="line">            $td = str_replace(<span class="string">'&lt;/td&gt;'</span>,<span class="string">''</span>, $td);</span><br><span class="line">            <span class="comment">//å»é™¤htmlæ ‡ç­¾ å¾—åˆ°å†…å®¹</span></span><br><span class="line">            $text = strip_tags($td);</span><br><span class="line">            $res[] = $text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fputcsv($handel, $res);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getContents();</span><br></pre></td></tr></table></figure><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>ä½¿ç”¨åˆ°çš„ä¸€äº›å‡½æ•°ï¼š</p><ol><li><code>iconv()</code> ç¼–ç è½¬æ¢</li><li><code>preg_replace()</code> ä½¿ç”¨æ­£åˆ™æ›¿æ¢æ–‡æœ¬</li><li><code>preg_match_all()</code> ä½¿ç”¨æ­£åˆ™è·å–å†…å®¹</li><li><code>strip_tags()</code> å»é™¤æ–‡æœ¬ä¸­çš„htmlæ ‡ç­¾</li><li><code>str_replace()</code> æ–‡æœ¬æ›¿æ¢</li><li><code>fputcsv()</code> å°†åˆ¶å®šå†…å®¹å†™å…¥csvæ–‡ä»¶</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ˜¨å¤©ä¸€ä½æœ‹å‹æ‰¾åˆ°æˆ‘ï¼Œè¯´ä»–æ‰‹ä¸Šæœ‰å‡ åƒä¸ªwordè¡¨æ ¼éœ€è¦è½¬æ¢åˆ°ä¸€ä¸ªexcelæ–‡ä»¶é‡Œï¼Œä»–åœ¨ç½‘ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³éœ€æ±‚çš„è½¯ä»¶ï¼Œäºæ˜¯è®©æˆ‘å¸®å¿™ç”¨ç¨‹åºå®ç°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="PHP" scheme="https://mokeee.com/categories/PHP/"/>
    
    
      <category term="Safari" scheme="https://mokeee.com/tags/Safari/"/>
    
  </entry>
  
  <entry>
    <title>Safariã€é˜»æ­¢è·¨ç½‘ç«™è¿½è¸ªã€‘é‡åˆ°çš„é—®é¢˜</title>
    <link href="https://mokeee.com/2019/01/06/safari-cookie/"/>
    <id>https://mokeee.com/2019/01/06/safari-cookie/</id>
    <published>2019-01-06T07:30:59.000Z</published>
    <updated>2019-06-09T09:17:04.172Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="éœ€æ±‚æè¿°"><a href="#éœ€æ±‚æè¿°" class="headerlink" title="éœ€æ±‚æè¿°"></a>éœ€æ±‚æè¿°</h3><p>ç°æœ‰ABä¸¤ä¸ªåŸŸåï¼Œåˆ†åˆ«ä½¿ç”¨åœ¨ABç½‘ç«™ä¸Šã€‚</p><ol><li>Aå‘Bå‘é€ä¸€ä¸ªjsonpè·¨åŸŸè¯·æ±‚ï¼Œè¿›è¡Œç”¨æˆ·ç™»å½•æ“ä½œ</li><li>Bæ”¶åˆ°è¯·æ±‚å¹¶éªŒè¯é€šè¿‡åä¼šåœ¨è‡ªå·±çš„åŸŸåä¸‹å†™ä¸€ä¸ªåŒ…å«å½“å‰ç”¨æˆ·ä¿¡æ¯çš„cookie</li><li>å½“Aç½‘ç«™å†æ¬¡å‘Bç½‘ç«™å‘èµ·è·å–ç”¨æˆ·ä¿¡æ¯çš„è¯·æ±‚æ—¶ï¼ŒBç½‘ç«™ä¼šè¯»å–è‡ªå·±åŸŸåä¸‹çš„è¿™ä¸ªcookieæ¥è·å–å½“å‰ç”¨æˆ·çš„ä¿¡æ¯å¹¶è¿”å›ç»™A</li></ol><h3 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h3><p>åœ¨Windows PCä¸Šæµ‹è¯•æ—¶ä¸€åˆ‡æ­£å¸¸ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚<br>å½“ä½¿ç”¨Safariæµè§ˆå™¨è®¿é—®Aç½‘ç«™æ—¶ï¼Œç”¨æˆ·ç™»å½•æ“ä½œæ­£å¸¸ï¼Œä½†åœ¨ç™»å½•æˆåŠŸåï¼Œå‘Bç½‘ç«™å‘èµ·è·å–ç”¨æˆ·ä¿¡æ¯çš„è¯·æ±‚æ—¶ï¼Œæ€»æ˜¯æç¤ºè·å–ä¸åˆ°ã€‚</p><p>åœ¨ä¸€ç•ªæŸ¥æ‰¾èµ„æ–™åå‘ç°ï¼ŒiOSç³»ç»Ÿä¸Šçš„Safariè®¾ç½®ä¸­é»˜è®¤å¼€å¯äº† <strong>é˜»æ­¢è·¨ç½‘ç«™è¿½è¸ª</strong> çš„åŠŸèƒ½ï¼Œä»è€Œå¯¼è‡´Aç½‘ç«™å‘Bç½‘ç«™å‘è¯·æ±‚ï¼ŒBç½‘ç«™å†™cookieåœ¨BåŸŸåä¸‹çš„æ“ä½œä¹Ÿæ— æ³•å®Œæˆâ€¦</p><p><img src="http://images.mokeee.com/2019-01-06-15467592058885.jpg" alt></p><p>**è¿™ä¸ªé—®é¢˜ä¼šå‡ºç°åœ¨æ‰€æœ‰ä½¿ç”¨AppleWebkitå†…æ ¸çš„æµè§ˆå™¨ä¸­ã€‚</p><blockquote><p>ç”±äºiOSç³»ç»Ÿé™åˆ¶ï¼Œè‹¹æœåªå…è®¸ç¬¬ä¸‰æ–¹æµè§ˆå™¨ä½¿ç”¨AppleWebkitå†…æ ¸ï¼Œæ‰€ä»¥æŒ‰ç†iOSä¸Šçš„æ‰€æœ‰æµè§ˆå™¨éƒ½ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p></blockquote><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><p>ä¸¥æ ¼æ¥è¯´ä¹Ÿä¸ç®—è§£å†³åŠæ³•ï¼Œç®—æ›²çº¿æ•‘å›½å§â€¦</p><p>å½“Aå‘Bå‘èµ·ç™»å½•è¯·æ±‚å¹¶æ”¶åˆ°è¿”å›çš„æ•°æ®åï¼ŒAç½‘ç«™å‰ç«¯å°†Bè¿”å›çš„æ•°æ®å­˜åœ¨Açš„cookieä¸­ï¼Œå¹¶åœ¨ä»¥åæ¯æ¬¡è¯·æ±‚Bæ—¶å°†cookieä¸­çš„ä¿¡æ¯ä»¥å‚æ•°å½¢å¼å‘é€ç»™Bã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;éœ€æ±‚æè¿°&quot;&gt;&lt;a href=&quot;#éœ€æ±‚æè¿°&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚æè¿°&quot;&gt;&lt;/a&gt;éœ€æ±‚æè¿°&lt;/h3&gt;&lt;p&gt;ç°æœ‰ABä¸¤ä¸ªåŸŸåï¼Œåˆ†åˆ«ä½¿ç”¨åœ¨ABç½‘ç«™ä¸Šã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Aå‘Bå‘é€ä¸€ä¸ªjso
      
    
    </summary>
    
    
  </entry>
  
</feed>
